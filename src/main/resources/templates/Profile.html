<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Profile</title>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
</head>
<body>

<header>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
            <a class="navbar-brand" href="http://localhost:8081/home">&lt; </a>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" id="info-tab" href="#" onclick="loadContent('info')">Thông tin tài khoản</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="device-tab" href="#" onclick="loadContent('device')">Thiết bị tài khoản</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</header>
<div class="container mt-4" id="content">
    <!-- Profile content -->
    <div th:if="${data}">
        <span id="hoten" style="display: none;" th:text="${data.hoten}"></span>
<span id="khoa" style="display: none;" th:text="${data.khoa}"></span>
<span id="nganh" style="display: none;" th:text="${data.nganh}"></span>
<span id="email" style="display: none;" th:text="${data.email}"></span>
<span id="sdt" style="display: none;" th:text="${data.sdt}"></span>
<span id="password" style="display: none;" th:text="${data.password}"></span>
         <span id="maTV" style="display: none;" th:text="${data.maTV}"></span>

    </div>
</div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script th:inline="javascript">
    var hoten = document.getElementById('hoten').innerText;
    var khoa = document.getElementById('khoa').innerText;
    var nganh = document.getElementById('nganh').innerText;
    var email = document.getElementById('email').innerText;
    var sdt = document.getElementById('sdt').innerText;
    var password = document.getElementById('password').innerText;
    var ma = document.getElementById('maTV').innerText;

window.onload = function() {
    loadContent('info');
};


    function loadContent(tabName) {
        // Xác định URL của file HTML tương ứng với tab
        var url = tabName === 'info' ? 'TTTV' : 'TTSDTV';
        
        // Sử dụng XMLHttpRequest để tải nội dung của file HTML
        var xhr = new XMLHttpRequest();
        xhr.open('GET', url, true);
        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4 && xhr.status === 200) {
                // Thay đổi nội dung của #content bằng nội dung của file HTML
                document.getElementById('content').innerHTML = xhr.responseText;
               document.getElementById('MaTV').value = ma;
               document.getElementById('name').value = hoten;
               document.getElementById('email').value = email;
               document.getElementById('phone').value = sdt;
               document.getElementById('khoa').value = khoa;
               document.getElementById('nganh').value = nganh;
            }
        };
        xhr.send();
        
        // Loại bỏ lớp 'active' từ tất cả các tab và thêm lớp 'active' vào tab được nhấp
        var tabs = document.querySelectorAll('.nav-link');
        tabs.forEach(function(tab) {
            tab.classList.remove('active');
        });
        document.getElementById(tabName + '-tab').classList.add('active');
    }

</script>
</body>
</html>