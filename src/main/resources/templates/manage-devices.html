<!DOCTYPE html>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/Other/html.html to edit this template
-->
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      th:import="com.project3mhpl.entity.FormData">
    <head>
        <title></title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
            
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"/>
    </head>
    <body>
        <div class="container py-2">
            <form class="d-flex" id="searchForm">
             <input class="form-control me-2" id="searchInput" type="text" placeholder="Search"/>
             <button class="btn btn-primary" id="searchButton" type="submit">Search</button>
            </form>
        </div>
        <div class="container">
            <table class="table table_bordered">
                <thead>
                    <tr class="text-center">
                        <th>STT</th>
                        <th>Mã thiết bị</th>
                        <th>Tên thiết bị</th>
                        <th>Mô tả</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="item, loop : ${data}" class="text-center">
                        <td th:text="${loop.index+1}"></td>
                        <td th:text="${item.maTB}"></td>
                        <td th:text="${item.tenTB}"></td>
                        <td th:text="${item.moTaTB}"></td>
                        <td>
                            <button class="btn btn-info" id="btn_them">
                                <i class="bi bi-plus-square"></i>
                            </button>   
                            <button class="btn btn-primary" id="btn_sua">
                                <i class="bi bi-pencil"></i>
                            </button>
                            <button class="btn btn-danger" id="btn_xoa">
                                <i class="bi bi-trash"></i>
                            </button>
                        </td>
            
                    </tr>
                </tbody>
            </table>
        </div>
        
<!--        Model thêm thiết bị-->
        <div id="myModal" class="modal fade" role="dialog">
            <div class="modal-dialog">
            <div class="modal-content">
           <form >
                      <div class="modal-header">
                         <h5 class="modal-title">Thêm thiết bị</h5>
                      </div>
                      <div class="modal-body">          
                         <div class="form-group">
                           <label for="matb">Mã thiết bị:</label>
                           <div class="input-group">
                            <input type="text" class="form-control" id="matb" name="matb"/>
                           </div>     
                         </div>
                         <div class="form-group">
                           <label for="tentb">Tên thiết bị:</label>
                           <div class="input-group">
                            <input type="text" class="form-control" id="tentb" name="tentb"/>
                           </div>     
                         </div>
                         <div class="form-group">
                           <label for="motatb">Mô tả:</label>
                           <div class="input-group">
                            <input type="text" class="form-control" id="motatb" name="motatb"/>
                           </div>     
                         </div>
                      </div>
                <div class="modal-footer">
                  <button type="submit" class="btn btn-primary">Submit</button>
                  <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                </div>
            </form>
               </div>
           </div>
       </div>

       <!--        Model sửa thiết bị-->
        <div id="myModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="manageDevicesModalLabel" aria-hidden="true">
            <div class="modal-dialog">
            <div class="modal-content">
           <form >
                      <div class="modal-header">
                         <h5 class="modal-title">Sửa thiết bị</h5>
                      </div>
                      <div class="modal-body">          
                         <div class="form-group">
                           <label for="matb">Mã thiết bị:</label>
                           <div class="input-group">
                            <input type="text" class="form-control" id="matb" name="matb"/>
                           </div>     
                         </div>
                         <div class="form-group">
                           <label for="tentb">Tên thiết bị:</label>
                           <div class="input-group">
                            <input type="text" class="form-control" id="tentb" name="tentb"/>
                           </div>     
                         </div>
                         <div class="form-group">
                           <label for="motatb">Mô tả:</label>
                           <div class="input-group">
                            <input type="text" class="form-control" id="motatb" name="motatb"/>
                           </div>     
                         </div>
                      </div>
                <div class="modal-footer">
                  <button type="submit" class="btn btn-primary">Submit</button>
                  <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                </div>
            </form>
               </div>
           </div>
       </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    </body>
</html>
<script th:inline="javascript">
  
    //  Chức năng tìm kiếm
    document.addEventListener("DOMContentLoaded", function() {
        var searchInput = document.getElementById("searchInput");
        var searchForm = document.getElementById("searchForm");
        var tableRows = document.querySelectorAll(".table tbody tr");

        searchForm.addEventListener("submit", function(event) {
            event.preventDefault(); // Ngăn form gửi dữ liệu lại server

            var searchText = searchInput.value.toLowerCase();
            tableRows.forEach(function(row) {
                var rowText = row.textContent.toLowerCase();
                if (rowText.includes(searchText)) {
                    row.style.display = ""; // Hiển thị dòng nếu tìm thấy
                } else {
                    row.style.display = "none"; // Ẩn dòng nếu không tìm thấy
                }
            });
        });
    });
</script>
